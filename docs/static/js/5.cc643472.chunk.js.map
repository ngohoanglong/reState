{"version":3,"sources":["layouts/Layout.Header.js","layouts/Layout.js","modules/namespace/Namespace.js","modules/storage/useLocalStorage.js","views/Covid/Covid.js","helpers/array.js"],"names":["Header","children","htmlFor","className","stroke","fill","strokeWidth","viewBox","height","width","xmlns","d","Layout","left","mid","right","header","layoutRef","useRef","useState","refreshing","setrefreshing","pullProps","useMemo","getScrollContainer","current","distanceToRefresh","indicator","activate","deactivate","release","finish","damping","direction","hidden","id","type","onTouchStart","e","stopPropagation","ref","onRefresh","setTimeout","Namespace","namespace","name","useNamespace","value","require","useCallback","emptyArray","useLocalStorage","key","deps","initialValue","localStorage","getItem","setItem","error","console","Left","RepoList","repolistname","selectedCountryName","setSelectCountry","useCacheSet","useCache","loading","setLoading","groubByDate","groupByCountry","groupByLegion","dataLocalstorage","setDataLocalstorage","JSON","parse","data","setData","handleSearch","keyword","fetch","then","res","json","xs","keys","reduce","rv","x","forEach","push","groupBy","rows","days","Object","sort","a","b","Number","countries","legions","lastDay","save","update","Date","now","stringify","useEffect","log","onKeyDown","event","which","keyCode","target","placeholder","map","date","country","legion","deaths","cumulativeDeaths","confirmed","cumulativeConfirmed","onClick","src","i","Content","selectCountry","select","setSelected","reverse","selectDate","find","item","newCases","cases","onChange","toLocaleDateString","style","border","min","max","length","Covid","useLocation","location"],"mappings":"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","file":"static/js/5.cc643472.chunk.js","sourcesContent":["import React from \"react\";\r\nconst Header = ({children}) => {\r\n  return (\r\n    <>\r\n      <label\r\n        htmlFor=\"theme\"\r\n        className=\"btn flex justify-center items-center font-bold text-xl background hover:shadow hover:rounded w-12 h-12 mt-3 rounded-full\"\r\n      />\r\n      {children}\r\n      {/* <a\r\n        href={\"/covid\"}\r\n        onClick={(e) => {\r\n          e.preventDefault();\r\n          push(\"/covid\");\r\n        }}\r\n        className=\"btn flex justify-center items-center font-bold text-xl background hover:shadow hover:rounded w-12 h-12 mt-3 rounded-full\"\r\n      >\r\n        <Covid size=\"1.6em\" />\r\n      </a>\r\n      <a\r\n        href={\"/github\"}\r\n        onClick={(e) => {\r\n          e.preventDefault();\r\n          push(\"/github\");\r\n        }}\r\n        className=\"btn flex justify-center items-center font-bold text-xl background hover:shadow hover:rounded w-12 h-12 mt-3 rounded-full\"\r\n      >\r\n        <svg\r\n          stroke=\"currentColor\"\r\n          fill=\"none\"\r\n          strokeWidth={2}\r\n          viewBox=\"0 0 24 24\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          height=\"1.6em\"\r\n          width=\"1.6em\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n        >\r\n          <path d=\"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22\" />\r\n        </svg>\r\n      </a> */}\r\n      <div className=\"flex-1\" />\r\n      <div className=\"p-3 sticky bottom-0 background-rich shadow-2xl\">\r\n        <label\r\n          htmlFor=\"openRight\"\r\n          className=\"btn flex justify-center items-center font-bold text-xl background hover:shadow hover:rounded w-12 h-12 rounded-full\"\r\n        >\r\n          <svg\r\n            stroke=\"currentColor\"\r\n            fill=\"currentColor\"\r\n            strokeWidth={0}\r\n            viewBox=\"0 0 24 24\"\r\n            height=\"1.6rem\"\r\n            width=\"1.6rem\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n          >\r\n            <g>\r\n              <path fill=\"none\" d=\"M0 0h24v24H0z\" />\r\n              <path d=\"M20 22h-2v-2a3 3 0 0 0-3-3H9a3 3 0 0 0-3 3v2H4v-2a5 5 0 0 1 5-5h6a5 5 0 0 1 5 5v2zm-8-9a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8z\" />\r\n            </g>\r\n          </svg>\r\n        </label>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default Header;\r\n","import React, { useRef, useState, useMemo } from \"react\";\r\nimport \"./Layout.scss\";\r\nimport PullToRefresh from 'rmc-pull-to-refresh'\r\nimport 'rmc-pull-to-refresh/assets/index.css'\r\nimport Header from \"./Layout.Header\";\r\nexport function Layout({ left, mid, right, header }) {\r\n  const layoutRef = useRef()\r\n  const [refreshing,setrefreshing] = useState()\r\n  const pullProps = useMemo(()=>({\r\n    getScrollContainer: () => layoutRef.current ,\r\n    distanceToRefresh:50,\r\n    indicator:{ activate: 'release', deactivate: 'pull', release: 'loading', finish: 'finish' },\r\n    damping:150,direction:'down'\r\n  }),[])\r\n  return (\r\n    <>\r\n      <input hidden id=\"openRight\" type=\"checkbox\" />\r\n      <input hidden id=\"openLeft\" type=\"checkbox\" />\r\n      <div   className={\"layout\"}>\r\n        <div onTouchStart={e=>{\r\n          e.stopPropagation()\r\n        }}>\r\n          <label\r\n            htmlFor=\"openLeft\"\r\n            className=\"flex items-center justify-center text-xl btn\"\r\n          >\r\n            <svg\r\n              stroke=\"currentColor\"\r\n              fill=\"currentColor\"\r\n              strokeWidth={0}\r\n              viewBox=\"0 0 24 24\"\r\n              height=\"1em\"\r\n              width=\"1em\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n              <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\" />\r\n            </svg>\r\n          </label>\r\n          <div className=\"w-full overflow-x-hidden overflow-y-auto h-screen scrollable\">\r\n            {left}\r\n          </div>\r\n        </div>\r\n        <div ref={layoutRef} >\r\n        <PullToRefresh\r\n        {...pullProps}\r\n        refreshing={refreshing}\r\n        onRefresh={() => {\r\n          setrefreshing(true);\r\n          setTimeout(() => {\r\n            setrefreshing(false);\r\n          }, 1000);\r\n        }}\r\n      >\r\n        <div className=\"min-h-screen\">{mid}</div>\r\n       </PullToRefresh>\r\n        </div>\r\n        <div >\r\n          <label\r\n            htmlFor=\"openRight\"\r\n            className=\"flex items-center justify-center text-xl btn\"\r\n          >\r\n            <svg\r\n              stroke=\"currentColor\"\r\n              fill=\"currentColor\"\r\n              strokeWidth={0}\r\n              viewBox=\"0 0 24 24\"\r\n              height=\"1em\"\r\n              width=\"1em\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n              <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\" />\r\n            </svg>\r\n          </label>\r\n          {right}\r\n        </div>\r\n      </div>\r\n      <header className=\"header scrollable small\">\r\n        <label\r\n          htmlFor=\"openLeft\"\r\n          className=\"btn flex justify-center items-center font-bold text-xl background hover:shadow hover:rounded w-12 h-12 mt-3 rounded-full\"\r\n        />\r\n        {header}\r\n      </header>\r\n    </>\r\n  );\r\n}\r\nLayout.Header = Header\r\nexport default Layout","import React from \"react\";\r\nimport { NamespaceProvider } from \"./NamespaceContext\";\r\nimport useNamespace from \"./useNamespace\";\r\nconst Namespace = ({ namespace: name, children }) => {\r\n  const namespace = useNamespace(name);\r\n  return <NamespaceProvider value={namespace}>{children}</NamespaceProvider>;\r\n};\r\n\r\nexport default Namespace;\r\n","const { useCallback, useRef, useState } = require(\"react\");\r\n\r\nconst emptyArray = [];\r\nconst useLocalStorage = ({ key = \"\", deps = emptyArray, initialValue }) => {\r\n  const [data] = useState(() => {\r\n      const data =localStorage.getItem(key)\r\n    return data||initialValue;\r\n  });\r\n  const handleSetdata = useCallback(\r\n    (value) => {\r\n      try {\r\n        localStorage.setItem(key, value);\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n      \r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [key, ...deps]\r\n  );\r\n  \r\n  return [data, handleSetdata];\r\n};\r\n\r\nexport default useLocalStorage;\r\n","import React, {\n  useState,\n  useEffect,\n  useLayoutEffect,\n  cloneElement,\n  useRef,\n} from \"react\";\nimport Namespace from \"../../modules/namespace/Namespace\";\nimport useNamespace from \"../../modules/namespace/useNamespace\";\nimport useCache, {\n  CacheProvider,\n  useCacheSet,\n} from \"../../modules/cache/useCache\";\nimport { Layout } from \"../../layouts/Layout\";\nimport PullToRefresh from \"rmc-pull-to-refresh\";\nimport ReactMarkdown from \"react-markdown\";\nimport Header from \"../../layouts/Layout.Header\";\nimport useLocalStorage from \"../../modules/storage/useLocalStorage\";\nimport { groupBy } from \"../../helpers/array\";\nimport useLocation from \"../../modules/navigation/useLocation\";\nconst namespace = {\n  data: \"data\",\n  selectedCountry: \"selectedCountry\",\n};\nconst Left = () => {\n  return <RepoList />;\n};\nconst RepoList = () => {\n  const repolistname = useNamespace(namespace.data);\n  const selectedCountryName = useNamespace(namespace.selectedCountry);\n  const setSelectCountry = useCacheSet(selectedCountryName);\n  const [loading, setLoading] = useCache(\n    repolistname + \"__async_loading\",\n    false\n  );\n  const [dataLocalstorage, setDataLocalstorage] = useLocalStorage(\n    repolistname,\n    [],\n    {\n      groubByDate: [],\n      groupByCountry: [],\n      groupByLegion: [],\n    }\n  );\n  const [data, setData] = useCache(\n    repolistname,\n    dataLocalstorage && dataLocalstorage !== null\n      ? JSON.parse(dataLocalstorage)\n      : {\n          groubByDate: [],\n          groupByCountry: [],\n          groupByLegion: [],\n        }\n  );\n  const handleSearch = ({ keyword }) => {\n    setLoading(true);\n    fetch(\n      `https://cors-anywhere.herokuapp.com/https://dashboards-dev.sprinklr.com/data/9043/global-covid19-who-gis.json`\n    )\n      .then((res) => {\n        return res.json();\n      })\n      .then((data) => {\n        setTimeout(() => {\n          const {\n            0: groubByDate = [],\n            1: groupByCountry = [],\n            2: groupByLegion = [],\n          } = groupBy(data.rows, [0, 1, 2]);\n          const days = Object.keys(groubByDate).sort(\n            (a, b) => -(Number(a) - Number(b))\n          );\n\n          Object.keys(groupByCountry).forEach((key) => {\n            const countryData = groupByCountry[key];\n            countryData.sort((a, b) => -(Number(a[0]) - Number(b[0])));\n          });\n          const countries = Object.keys(groupByCountry);\n          const legions = Object.keys(groupByLegion);\n          const lastDay = days[0];\n          const save = {\n            update: Date.now(),\n            groubByDate,\n            groupByCountry,\n            groupByLegion,\n            days,\n            countries,\n            legions,\n            lastDay,\n          };\n          setDataLocalstorage(JSON.stringify(save));\n          setData(save);\n          setLoading(false);\n        });\n      });\n  };\n\n  useEffect(() => {\n    handleSearch({ keyword: \"react\" });\n  }, []);\n  const {\n    groubByDate = [],\n    groupByCountry = [],\n    groupByLegion = [],\n    lastDay,\n  } = data;\n  console.log(\"data\", data);\n  return (\n    <>\n      <input\n        onKeyDown={(event) => {\n          if (\n            event.which === 13 ||\n            event.keyCode === 13 ||\n            event.key === \"Enter\"\n          ) {\n            //code to execute here\n            handleSearch({ keyword: event.target.value });\n            return false;\n          }\n          return true;\n        }}\n        className=\"sticky background-rich top-0 z-10 block w-full px-2 py-3 border-b border-transparent border-b-4 focus:border-gray-300 outline-none\"\n        placeholder=\"Search...\"\n      />\n      {loading && (\n        <div className=\"text-gray-500 text-center font-bold\">loading</div>\n      )}\n      {lastDay &&\n        groubByDate[lastDay]\n          .sort((a, b) => Number(b[6]) - Number(a[6]))\n          .map(\n            ([\n              date,\n              country,\n              legion,\n              deaths,\n              cumulativeDeaths,\n              confirmed,\n              cumulativeConfirmed,\n            ]) => (\n              <div\n                onClick={() => {\n                  setTimeout(() => setSelectCountry(country), 300);\n                }}\n                key={country}\n                className=\"btn cursor-pointer hover:shadow-lg m-2 ml-0 rounded p-2 flex flex-col justify-between leading-normal \"\n              >\n                <div className=\"text-color font-bold flex items-center\">\n                  <img\n                    className=\"w-6 mr-2\"\n                    src={`https://www.countryflags.io/${country}/flat/64.png`}\n                  ></img>{\" \"}\n                  {country}\n                </div>\n                <div className=\" text-color-rich flex items-center flex-wrap\">\n                  {[\n                    // deaths,\n                    <span className=\"bg-red-100 text-red-700  font-bold text-xs mb-2 mr-2 px-1 rounded\">{`‚ö∞Ô∏è ${cumulativeDeaths}`}</span>,\n                    // confirmed, rounded\n                    <span className=\"bg-gray-300 text-gray-700  font-bold text-xs mb-2 mr-2 px-1 rounded\">{`ü§¢ ${cumulativeConfirmed}`}</span>,\n                  ].map((value, i) => (\n                    <div key={i} className=\"\">\n                      {value}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )\n          )}\n      {/* <div className=\"cursor-pointer m-2 hover:shadow rounded p-4 flex flex-col justify-between leading-normal\">\n        <div className=\"text-gray-500 text-center font-bold\">\n          {loading ? \"LOADING\" : \"LOAD MORE\"}\n        </div>\n      </div> */}\n    </>\n  );\n};\n\nconst Content = () => {\n  const ref = useRef(Date.now());\n  const repolistname = useNamespace(namespace.data);\n  const selectedCountryName = useNamespace(namespace.selectedCountry);\n  const [selectCountry] = useCache(selectedCountryName);\n  const [data, setData] = useCache(repolistname);\n  const [select, setSelected] = useState(0);\n  if (!data || !data.update) return null;\n  const days = data.days.reverse();\n  const selectDate = days[select];\n  const [\n    datetime,\n    country,\n    legion,\n    newDeaths,\n    deaths,\n    newCases,\n    cases,\n  ] = selectCountry\n    ? data.groupByCountry[selectCountry].find(\n        (item) => item[0] === Number(selectDate)\n      ) || []\n    : [];\n  return (\n    <div className=\"p-3\">\n      <div>{selectCountry}</div>\n      <select\n        className=\"rounded-tl-lg rounded-tr-lg ml-3 background-rich focus:outline-none focus:shadow-outline  bg-gray-300 px-2 appearance-none leading-normal\"\n        value={select}\n        onChange={(e) => {\n          const value = e.target.value;\n          const now = Date.now();\n\n          ref.current = now;\n          setTimeout(() => {\n            if (now === ref.current) {\n              setSelected(value);\n            }\n          }, 0);\n        }}\n      >\n        {days.map((value, i) => (\n          <option value={i}>\n            {new Date(Number(days[i])).toLocaleDateString()}\n          </option>\n        ))}\n      </select>\n      <input\n        style={{ border: \"4px solid var(--background-rich)\" }}\n        className=\"w-full bg-transparent focus:outline-none focus:shadow-outline rounded-lg block w-full appearance-none leading-normal\"\n        value={select}\n        onChange={(e) => {\n          const value = e.target.value;\n          const now = Date.now();\n          ref.current = now;\n          setTimeout(() => {\n            if (now === ref.current) {\n              setSelected(value);\n            }\n          }, 0);\n        }}\n        type=\"range\"\n        min=\"0\"\n        max={days.length}\n      ></input>\n      <div className=\"flex\">\n        <div className=\"flex-1 text-right\">{newCases}</div>\n        <div className=\"flex-1 text-right\">{cases}</div>\n        <div className=\"flex-1 text-right\">{deaths}</div>\n      </div>\n    </div>\n  );\n};\nconst Covid = () => {\n  return (\n    <Layout\n      {...{\n        left: <Left />,\n        mid: <Content />,\n        right: (\n          <div>\n            <div className=\"w-full justify-center items-center overflow-hidden md:max-w-sm \">\n              <div className=\"relative h-24\">\n                <img\n                  className=\"absolute h-full w-full object-cover\"\n                  src=\"https://images.unsplash.com/photo-1448932133140-b4045783ed9e?ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80\"\n                />\n              </div>\n              <div className=\"relative shadow mx-auto h-24 w-24 -my-12 rounded-full overflow-hidden border-4\">\n                <img\n                  className=\"object-cover w-full h-full\"\n                  src=\"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=200&q=80\"\n                />\n              </div>\n              <div className=\"mt-16\">\n                <h1 className=\"text-lg text-center font-semibold\">Cassie</h1>\n                <p className=\"text-sm text-gray-600 text-center\">\n                  13 connections in common\n                </p>\n              </div>\n            </div>\n          </div>\n        ),\n        header: <Layout.Header />,\n      }}\n    />\n  );\n};\nexport default () => {\n  const [location] = useLocation();\n  return (\n    <Namespace namespace={location}>\n      <Covid />\n    </Namespace>\n  );\n};\n","export function groupBy(xs, keys=[]) {\r\n    return xs.reduce(function(rv, x) {\r\n        keys.forEach(key=>{\r\n            rv[key] =(rv[key]||{})\r\n            rv[key][x[key]] = rv[key][x[key]] || []\r\n            rv[key][x[key]].push(x);\r\n        })\r\n      return rv;\r\n    }, {});\r\n  };"],"sourceRoot":""}